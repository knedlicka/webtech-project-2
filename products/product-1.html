<!DOCTYPE html>
<html>

<head>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
          integrity="sha384-Gn5384xQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>

    <script src='https://cdn.jsdelivr.net/npm/fullcalendar/index.global.min.js'></script>

    <style>
        html, body {
            height: 100%;
        }

        body {
            display: flex;
            flex-direction: column;
        }

        footer {
            margin-top: auto;
        }

        .highlight {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .calendar {
            margin-top: 20px;
        }
    </style>
</head>

<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="#">Navbar</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
                <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Link</a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                   aria-haspopup="true" aria-expanded="false">
                    Dropdown
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#">Something else here</a>
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-link disabled" href="#">Disabled</a>
            </li>
        </ul>
    </div>
</nav>

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <div class="row">
                <div class="col-12">
                    <p class="highlight">Class B2</p>
                </div>
                <div class="col-12">
                    <p>A large room for 120 people. Multiple whiteboards and a professional audio.</p>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div>
                <img src="images/product-1.jpg" alt="room-B12"/>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <p>Log in to perform a reservation</p>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <p>Calendar for reservation</p>
            <div id="calendar" class="calendar"></div>
        </div>
    </div>
</div>

<footer class="bg-dark text-center text-white py-3">
    <div class="container">
        <p class="mb-0">&copy; 2025 Lost & Found App | NB & AL</p>
    </div>
</footer>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const calendarEl = document.getElementById('calendar');
    const calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      dateClick: function(info) {
        const title = prompt('Your name:');
        if (title) {
          const startTime = prompt('Enter start time (e.g., 10:00):');
          const endTime = prompt('Enter end time (e.g., 16:00):');
          if (startTime && endTime) {
            const startDate = new Date(info.dateStr + ' ' + startTime);
            const endDate = new Date(info.dateStr + ' ' + endTime);

            calendar.addEvent({
              title: title,
              start: startDate,
              end: endDate,
              allDay: false
            });

            saveEvent(title, startDate, endDate);
          }
        }
      },
      events: function(info, successCallback, failureCallback) {
        // Example: Load events from a data source (e.g., backend or localStorage)
        const events = getSavedEvents();
        successCallback(events);
      }
    });

    calendar.render();

    // Example: Save event to localStorage (for demo purposes)
    function saveEvent(title, start, end) {
      const events = getSavedEvents();
      events.push({ title, start: start.toISOString(), end: end.toISOString() });
      localStorage.setItem('events', JSON.stringify(events));
    }

    // Example: Retrieve saved events from localStorage
    function getSavedEvents() {
      const events = localStorage.getItem('events');
      return events ? JSON.parse(events) : [];
    }
  });


  document.addEventListener('DOMContentLoaded', function () {
    const isLoggedIn = localStorage.getItem('loggedIn') === 'true';

    // Update the navbar based on login status
    const navbar = document.querySelector('.navbar-nav');
    if (isLoggedIn) {
      navbar.innerHTML += `<li class="nav-item"><a class="nav-link" href="#" id="logout-link">Logout</a></li>`;
    }
    else {
      navbar.innerHTML += `<li class="nav-item"><a class="nav-link" href="login.html">Log in</a></li>`;
    }
    // Handle logout
    const logoutLink = document.getElementById('logout-link');
    if (logoutLink) {
      logoutLink.addEventListener('click', function () {
        localStorage.removeItem('loggedIn');
        window.location.reload();
      });
    }
  });
</script>

</body>
</html>
